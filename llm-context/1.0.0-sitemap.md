# kolkrabbi Docs / Wiki — Sitemap v1.0.0

High-level map of the wiki/doc surfaces we’re iterating on. Keep this file updated whenever routes are added, renamed, or repurposed.

## 1. Site Tree

```
/                              Dashboard home
├─ /page/:slug                 Article view (Theme System, Layout, Ops…)
├─ /input                      Markdown → wiki object builder
├─ /new                        Wiki Composer draft surface
├─ /media                      Media admin (table + gallery)
├─ /databases                  Database index
│  └─ /database/:databaseId
│     └─ /database/:databaseId/page/:pageId
└─ *                           Fallback → home
```

## 2. Top-Level Routes (Apps)

| Path | Purpose | Notes |
| --- | --- | --- |
| `/` | Wiki dashboard home | 4-column status board: Action queue, Notes + calendar toggle, Databases in focus, All DBs + create palette |
| `/page/:slug` | Article view | Renders structured docs content from `wikiPages.js` using `WikiBlockRenderer` |
| `/input` | Markdown → wiki JSON builder | Generates structured page objects for seeding `wikiPages.js` |
| `/new` | Wiki Composer | Inline block editor/preview for prototyping new pages |
| `/media` | Media admin | TanStack table + gallery preview backed by `mediaLibrary.js` |
| `/databases` | Database index | Filters/searches over structured stores (Media Archive, Token Docs, etc.) |
| `/database/:databaseId` | Database detail | Surface stats, tasks, timeline, linked pages for a single database |
| `/database/:databaseId/page/:pageId` | Database page view | Detailed record using shared wiki block renderer |

## 3. Navigation + Layout

- **Primary Sidebar** (`WikiSidebar.jsx`): Workshop-style collapsed nav pinned to left edge. Routes include overview, section entries (Foundations, Operations), Databases, and Media. Collapsed state shows icon column + overlay previews.
- **Four-Track Grid** (`WikiLayout.jsx`): Left/Right rails can be toggled; central area hosts current route. Mobile drawers (`DocsRailDrawer`) used for nav/outline when rails hidden.

## 4. Content Sources

- `apps/wiki/src/data/wikiPages.js` — Core article content (Theme System, Documentation Layout, Collaboration Guide, etc.).
- `apps/wiki/src/data/databases.js` — Structured description of each database (metadata, tasks, timeline, pages).
- `apps/wiki/src/data/mediaLibrary.js` — Seed data for media admin/gallery.

## 5. Planned / Next Routes

| Path | Status | Owner |
| --- | --- | --- |
| `/database/:id/view/:viewId` | TBD | After Backblaze integration (gallery/table) |
| `/page/:slug/edit` | TBD | Inline editing UI once persistence is defined |
| `/search` | TBD | Global search across pages + databases |

## 6. Update Protocol

1. When adding a new route, append it to section 1 with a short summary.
2. If a route changes purpose, note the migration in section 4 until old links are sunset.
3. Keep source-of-truth data references (section 3) aligned with new files to reduce onboarding time.

_Last updated: Nov 18, 2025_
